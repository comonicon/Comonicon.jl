<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Command Types · Comonicon.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/indigo.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Comonicon.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../conventions/">Syntax &amp; Conventions</a></li><li><a class="tocitem" href="../project/">Create a CLI project</a></li><li class="is-active"><a class="tocitem" href>Command Types</a><ul class="internal"><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><a class="tocitem" href="../parse/">Command Parsing</a></li><li><a class="tocitem" href="../configurations/">Command Configuration</a></li><li><a class="tocitem" href="../codegen/">Code Generation</a></li><li><a class="tocitem" href="../build/">Build and Install CLI</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Command Types</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Command Types</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/comonicon/Comonicon.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Command-Types"><a class="docs-heading-anchor" href="#Command-Types">Command Types</a><a id="Command-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Command-Types" title="Permalink"></a></h1><p>The frontend <code>@main</code> and <code>@cast</code> restrict a lot features to make the package interface as simple as possible. However, if you want to customize the behaviour, you can also create command objects directly via the interfaces at this level, which are all in <code>Comonicon.AST</code>.</p><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.Argument" href="#Comonicon.AST.Argument"><code>Comonicon.AST.Argument</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Argument &lt;: ComoniconExpr</code></pre><p>type for positional argument of a command.</p><p><strong>Fields</strong></p><ul><li><code>name::String</code>: name of the argument.</li><li><code>type</code>: type of the argument, default <code>Any</code>.</li><li><code>vararg::Bool</code>: if the argument is a variant argument, default <code>false</code>.</li><li><code>require::Bool</code>: if the argument is required, default <code>true</code>.</li><li><code>default::Maybe{String}</code>: the default value of this argument if argument is not required (optional), default <code>nothing</code>.</li><li><code>description::Description</code>: the description of this argument, default <code>Description()</code>.</li><li><code>line::Maybe{LineNumberNode}</code>: the line number of this argument, default is <code>nothing</code>.</li></ul><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">Argument(fields_above...)
Argument(;fields_above...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.Color" href="#Comonicon.AST.Color"><code>Comonicon.AST.Color</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct Color</code></pre><p>Color configuration.</p><p><strong>Fields</strong></p><ul><li><code>name::Symbol</code>: command name color.</li><li><code>args::Symbol</code>: command args color.</li><li><code>dash::Symbol</code>: command flag/option color.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.ComoniconExpr" href="#Comonicon.AST.ComoniconExpr"><code>Comonicon.AST.ComoniconExpr</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type ComoniconExpr end</code></pre><p>Abstract type for Comonicon CLI expression.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.Description" href="#Comonicon.AST.Description"><code>Comonicon.AST.Description</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Description &lt;: ComoniconExpr</code></pre><p>type for description of a command object.</p><p><strong>Fields</strong></p><ul><li><code>brief::String</code>: brief introduction of the command,   will be printed as the first sentence   of the whole description as well as brief intro in   upper level help info.</li><li><code>content::String</code>: long introduction of the command.</li></ul><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">Description(;brief=&quot;&quot;, content=&quot;&quot;)
Description(brief)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.Entry" href="#Comonicon.AST.Entry"><code>Comonicon.AST.Entry</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Entry &lt;: ComoniconExpr</code></pre><p>Top-level entry of the CLI.</p><p><strong>Fields</strong></p><ul><li><code>root::Union{NodeCommand,LeafCommand}</code>: the entry command.</li><li><code>version::Maybe{VersionNumber}</code>: version number of the command.</li><li><code>line::Maybe{LineNumberNode}</code>: line number of the original Julia program.</li></ul><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">Entry(fields_above...)
Entry(;fields_above...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.Flag" href="#Comonicon.AST.Flag"><code>Comonicon.AST.Flag</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Flag &lt;: ComoniconExpr</code></pre><p>Type for flag in CLI, e.g <code>--flag</code> or <code>-f</code>.</p><p><strong>Fields</strong></p><ul><li><code>sym</code>: the symbol in Julia programs.</li><li><code>name::String</code>: name of the flag, default is the same as <code>sym</code> but will replace <code>_</code> with <code>-</code>.</li><li><code>short::Bool</code>: if this flag support short flag syntax e.g <code>-f</code>, default is <code>false</code>.</li><li><code>description::Description</code>: description of this flag, default is <code>Description()</code>.</li><li><code>line::Maybe{LineNumberNode}</code>: the line number of this flag object in original Julia program.</li></ul><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">Flag(fields_above...)
Flag(;fields_above...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.LeafCommand" href="#Comonicon.AST.LeafCommand"><code>Comonicon.AST.LeafCommand</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct LeafCommand &lt;: ComoniconExpr</code></pre><p>Type for a leaf command in CLI. A leaf command is the command that actually execute the program e.g</p><pre><code class="language-shell hljs">main-cmd node-cmd leaf-cmd 1 2 3</code></pre><p><strong>Fields</strong></p><ul><li><code>fn</code>: a Julia callable that executes the command.</li><li><code>name::String</code>: name of the command.</li><li><code>args::Vector{Argument}</code>: list of CLI arguments, see <a href="#Comonicon.AST.Argument"><code>Argument</code></a>, default is <code>Argument[]</code>.</li><li><code>nrequire::Int</code>: number of required arguments, default is the number of <code>require==true</code> arugments in <code>args</code>.</li><li><code>vararg::Maybe{Argument}</code>: variant argument, default is <code>nothing</code>.</li><li><code>flags::Dict{String, Flag}</code>: map between flag name and flag object, see <a href="#Comonicon.AST.Flag"><code>Flag</code></a>, default is the empty collection.</li><li><code>options::Dict{String, Option}</code>: map between option name and option object, see <a href="#Comonicon.AST.Option"><code>Option</code></a>, default is the empty collection.</li><li><code>description::Description</code>: description of the leaf command, default is <code>Description()</code>.</li><li><code>line::Maybe{LineNumberNode}</code>: line number of the leaf command in original Julia program.</li></ul><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">LeafCommand(fields_above...)
LeafCommand(;fields_above...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.NodeCommand" href="#Comonicon.AST.NodeCommand"><code>Comonicon.AST.NodeCommand</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct NodeCommand &lt;: ComoniconExpr</code></pre><p>Type for node command in a CLI, these command are only used to dispatch the actual command in CLI, and must have sub-command, e.g</p><pre><code class="language-shell hljs">main-cmd node-cmd leaf-cmd 1 2 3</code></pre><p><strong>Fields</strong></p><ul><li><code>name::String</code>: name of the command.</li><li><code>subcmds::Dict{String, Any}</code>: sub-commands of the node command,   this is a <code>name=&gt;command</code> dict, the command should be either   <code>NodeCommand</code> or <a href="#Comonicon.AST.LeafCommand"><code>LeafCommand</code></a>.</li><li><code>description::Description</code>: description of this node command, default is <code>Description()</code>.</li><li><code>line::Maybe{LineNumberNode}</code>: line number of the node command in its original Julia program, default is <code>nothing</code>.</li></ul><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">NodeCommand(fields_above...)
NodeCommand(;fields_above...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.Option" href="#Comonicon.AST.Option"><code>Comonicon.AST.Option</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Option &lt;: ComoniconExpr</code></pre><p>type for options, e.g <code>--option=&lt;value&gt;</code> or <code>-o&lt;value&gt;</code>.</p><p><strong>Fields</strong></p><ul><li><code>sym::Symbol</code>: symbol of the option in Julia program.</li><li><code>name::String</code>: name of the option in shell, by default   this is the same as <code>sym</code> but will replace <code>_</code> with <code>-</code>.</li><li><code>hint::Maybe{String}</code>: hint message of this option, default is <code>nothing</code>.</li><li><code>require::Bool</code>: if this option is required, default is <code>false</code>.</li><li><code>type</code>: type of the option value, default is <code>Any</code>.</li><li><code>short::Bool</code>: if the option support short option syntax (<code>-o&lt;value&gt;</code> syntax), default is <code>false</code>.</li><li><code>description::Description</code>: description of this option, default is <code>Description()</code>.</li><li><code>line::Maybe{LineNumberNode}</code>: line number of this option in Julia scripts.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.Terminal" href="#Comonicon.AST.Terminal"><code>Comonicon.AST.Terminal</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct Terminal</code></pre><p>Configurations for terminal printing.</p><p><strong>Fields</strong></p><ul><li><code>width::Int</code>: width of the terminal.</li><li><code>left::Int</code>: left column max width.</li><li><code>right::Int</code>: right column max width.</li><li><code>color:Color</code>: color configurations, see <a href="#Comonicon.AST.Color"><code>Color</code></a>.</li><li><code>indent::Indent</code>: indent configuration, see <a href="@ref"><code>Indent</code></a>.</li><li><code>brief::Bool</code>: print the brief intro or not.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.print_cmd" href="#Comonicon.AST.print_cmd"><code>Comonicon.AST.print_cmd</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">print_cmd([io::IO], cmd, [terminal::Terminal])</code></pre><p>Print the command object in terminal.</p><p><strong>Arguments</strong></p><ul><li><code>io::IO</code>: an IO object, default is <code>stdout</code>.</li><li><code>cmd</code>: a command object, can be <code>Entry</code>, <code>NodeCommand</code>, <code>LeafCommand</code>.</li><li><code>terminal::Terminal</code>: a <code>Terminal</code> object, contains   the printing and terminal configuration. See also <a href="#Comonicon.AST.Terminal"><code>Terminal</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.splitlines" href="#Comonicon.AST.splitlines"><code>Comonicon.AST.splitlines</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">splitlines(s, width = 80)</code></pre><p>Split a given string into lines of width <code>80</code> characters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Comonicon.AST.splittext-Tuple{String}" href="#Comonicon.AST.splittext-Tuple{String}"><code>Comonicon.AST.splittext</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">splittext(s)</code></pre><p>Split the text in string <code>s</code> into an array, but keep all the separators attached to the preceding word.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>this is copied from Luxor/text.jl</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/comonicon/Comonicon.jl">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../project/">« Create a CLI project</a><a class="docs-footer-nextpage" href="../parse/">Command Parsing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Thursday 18 August 2022 21:01">Thursday 18 August 2022</span>. Using Julia version 1.8.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
